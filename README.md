# Codius Certificate Authority

A Codius Certificate Authority is responsible for issuing unique certificates to running Codius instances.

## Setup

To setup and run a Codius CA, please use the [**`codius-ca` command line interface**](https://github.com/codius/ca-cli).

## API

### Requesting a certificate

##### Request
``` http
POST /certificate HTTP/1.1
Host: ca.codius.host
Content-Type: application/json
Accept: application/json
Authorization: Basic Zm9vOmJhcgo=

{
  "certificate_signing_request": "-----BEGIN CERTIFICATE REQUEST-----\nMIICqTCCAZECAQAwZDELMAkGA1UEBhMCVVMxEzARBgNVBAgMCkNhbGlmb3JuaWEx\nFjAUBgNVBAcMDVNhbiBGcmFuY2lzY28xEjAQBgNVBAoMCUFsaWNlIEx0ZDEUMBIG\nA1UEAwwLZXhhbXBsZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIB\nAQC9Gqqax7YEARCcchX6T/4ch4KLSfMF2pI7OaIODUS8ry8dnx5SMG0ToYs7W6b3\ne5IQJukj/cnwJpR1m4pxDMhssJf/EfkrCMltijbJVVahGH518km5lW75EDIZYRCP\nR66fsK/V5p+j99sAfckICdzHuhIhzjQ0M27eL3LUd26e3x2fqK5lMYoZd/L6Xbna\n/twG4UF6I+DzIlevmUFyuu8zen2qf3jtPeSTcchH1t6u7ktLYaT/dopOetYj5qBq\nMevM1n5ASaCxn7wBh0PLzouEkI1hazwJmKj9sP5s9jCoHlfZzh7fAoSn0hHcOL5A\nWhH2IAHmqsQFaaViBpciwT9jAgMBAAGgADANBgkqhkiG9w0BAQsFAAOCAQEAdcGY\noArsOCv7XquGSMyDWIzmYsC5BNidpAeo8Y117JGXyQ1OOYG82j/pcQCjIGzZthrf\nUlBkBPJhDVcegCpM8emkxVVsiE0qCss4DiAI7dNkO4TKy12cso1MeCj9UNcntadZ\nSVKzwErEYJ2ETp/iu63a/Ebk3Eyaa674zXS4sJE8vp1Wyv1mE2Qg4Q1U6K5KQN86\nHihcdhr5eH+0J96yK97mFTlbPsUurNIZ97NIQuBea8/dxdOdeHJFUng6G/yVYWwQ\nTM5e1N27smWJE9gINMwg7PtewamhGjIFak34DgydcK64C+7MdfHUZGZfbXDeHHj8\nKPI6ccjknz4BjumS1w==\n-----END CERTIFICATE REQUEST-----"
}
```

##### Response
``` http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "certificate": "-----BEGIN CERTIFICATE-----\nMIIFTjCCAzagAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwVzELMAkGA1UEBhMCR0Ix\nEDAOBgNVBAgMB0VuZ2xhbmQxEjAQBgNVBAoMCUFsaWNlIEx0ZDEiMCAGA1UEAwwZ\nQWxpY2UgTHRkIEludGVybWVkaWF0ZSBDQTAeFw0xNjA5MjkwNjM5MDdaFw0xNzEw\nMDkwNjM5MDdaMGQxCzAJBgNVBAYTAlVTMRMwEQYDVQQIDApDYWxpZm9ybmlhMRYw\nFAYDVQQHDA1TYW4gRnJhbmNpc2NvMRIwEAYDVQQKDAlBbGljZSBMdGQxFDASBgNV\nBAMMC2V4YW1wbGUuY29tMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA\nvRqqmse2BAEQnHIV+k/+HIeCi0nzBdqSOzmiDg1EvK8vHZ8eUjBtE6GLO1um93uS\nECbpI/3J8CaUdZuKcQzIbLCX/xH5KwjJbYo2yVVWoRh+dfJJuZVu+RAyGWEQj0eu\nn7Cv1eafo/fbAH3JCAncx7oSIc40NDNu3i9y1Hdunt8dn6iuZTGKGXfy+l252v7c\nBuFBeiPg8yJXr5lBcrrvM3p9qn947T3kk3HIR9beru5LS2Gk/3aKTnrWI+agajHr\nzNZ+QEmgsZ+8AYdDy86LhJCNYWs8CZio/bD+bPYwqB5X2c4e3wKEp9IR3Di+QFoR\n9iAB5qrEBWmlYgaXIsE/YwIDAQABo4IBFTCCAREwCQYDVR0TBAIwADARBglghkgB\nhvhCAQEEBAMCBkAwMwYJYIZIAYb4QgENBCYWJE9wZW5TU0wgR2VuZXJhdGVkIFNl\ncnZlciBDZXJ0aWZpY2F0ZTAdBgNVHQ4EFgQU1Th2KapGhu8FkGA0a30Cz7rWOVIw\neAYDVR0jBHEwb4AUZVEkLRBhwrI6LVhNKbWM0sIgetOhU6RRME8xCzAJBgNVBAYT\nAkdCMRAwDgYDVQQIDAdFbmdsYW5kMRIwEAYDVQQKDAlBbGljZSBMdGQxGjAYBgNV\nBAMMEUFsaWNlIEx0ZCBSb290IENBggIQADAOBgNVHQ8BAf8EBAMCBaAwEwYDVR0l\nBAwwCgYIKwYBBQUHAwEwDQYJKoZIhvcNAQELBQADggIBAGB+jmggg+/kz5raSqTY\nYFXSHIdjdwnLrcFpRRe1IrMHBnzaDC/mbRWC70c21tbgisBUjAtXDJ36LD4I+xhx\n7NZWkiDlZ6W35MvO6FRK8jQn7lbyvS66mrW5q58VS1sEwq1cYz8NglahHj/b9tie\nDoK1pHheqI1qcuFW5ibAxVOcc4whRNRyDVtLltMF2swIrcuYsHvoplwdlgyhLF71\nZ/XGNIxRKqvvtN36fP2FtJKQklFINmDlokV4cHAlSENwtzfy0VLTgssdRyUpSHf9\n4V0ub/RmsTgoNeyKu4HF8gMeKeG+IwBb9Yj827pivuBOnybyb+Exyx624DhXiyVC\nhFB1PYYFrALxz06pGOOMS19Z8QkJ4VdIveky4r9fy6v87ylD6fdCUUHlJXDVAPKO\n0CHvrCzSxEiYMHX+1niOyc8CaS+i8XVQqhJnDmWqkbgVigkPrUqfF75OzlbSqM0l\nnnTgS9GYdJUon7t6VTf3TJLiJpc6fXsz/A1nIi6UlohQ1aWNIR2UaJ/KgDMDKQTL\nV7JZkD/fk9a0oi6Hr/3XBAxSo0d7OxCdM6vYYfQ0LYgGQAP0z6jsBM3p2dEmW17z\nV5N6p/4wGs5BzWJgWbHwbT9MVOILtATkZnhqdOzsIC6+oNO9/qgiJXpwGIU0O09b\nj5wM+zwAdYmNnTbHyU9BS9VD\n-----END CERTIFICATE-----",
  "ca_chain": "-----BEGIN CERTIFICATE-----\nMIIFiDCCA3CgAwIBAgICEAAwDQYJKoZIhvcNAQELBQAwTzELMAkGA1UEBhMCR0Ix\nEDAOBgNVBAgMB0VuZ2xhbmQxEjAQBgNVBAoMCUFsaWNlIEx0ZDEaMBgGA1UEAwwR\nQWxpY2UgTHRkIFJvb3QgQ0EwHhcNMTYwOTI5MDYzMzQyWhcNMjYwOTI3MDYzMzQy\nWjBXMQswCQYDVQQGEwJHQjEQMA4GA1UECAwHRW5nbGFuZDESMBAGA1UECgwJQWxp\nY2UgTHRkMSIwIAYDVQQDDBlBbGljZSBMdGQgSW50ZXJtZWRpYXRlIENBMIICIjAN\nBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAuf2wK9u08ayPyF7wGGah+EY50ZZF\nmb+p0SajiYFgl72TK/W/Ftw3GDs01zdermlxCiRmdQJIEF6KIFBi7hJeOpAFdNDN\ntueFWWq5I2xp1V7ajL23I5gPXEtSvfwW1eVEFDne8rSvEp/YvbtNGC+rkHUTQawy\nlENIuXG8JbSv4m5PxFRSxDr47tB8SDoTEZTtzpYtsOlzl5Ecipp9MmYN84Qb1a90\n4HZiGAGzCEScq0ya0XTDBlyS9GJ00FVdUolGlyyHqAzUXUe0Mg5xw6A41nr6AHbg\nsL5C5nNLLVyHRADc76pPdfrTAhzBFkmUvEcP0L5BNyRZkhvb8K+XgM5ej5ZzHrat\n3Dt4W8nJixGfjWlB+msMKP4N9AbKSE5gp4tvnkIss8EmA7RfghMl3QQc/P8taxCf\ntn49WGePxNx+dm/KjeKpTcioRtAvbvwwFPuT5pkJEY+cfQiENcWbPU2XeRTG7bXM\nU4oLASuAMmRHNeiUJoHFru8yVLZtx1GlJv8KuX2n6UE0L9Xvc+S4FsJxAHEaFTCn\nHvNn3O4iefC8u0BM668szdM+Zb/U6+omm4/r8NxGfuSuAHAgM0bCG3dg//AfQEuR\nHIds3QENqShiJhX4pkSCZW8dbHWzjHL9eK2iJ/nY3aIEsmyJCIu0oUQ5TEMEyRad\nIykhTUPfeHxc9UkCAwEAAaNmMGQwHQYDVR0OBBYEFGVRJC0QYcKyOi1YTSm1jNLC\nIHrTMB8GA1UdIwQYMBaAFPt9gID46LX5QH86+ANMnw3ibaAKMBIGA1UdEwEB/wQI\nMAYBAf8CAQAwDgYDVR0PAQH/BAQDAgGGMA0GCSqGSIb3DQEBCwUAA4ICAQCozgPB\nA5Yx0ws/r24nAeVRBhPop/A3x15Y8AlLPmnccWsx+jRop/Sel9+qDO6DJ+YCu7/g\na0jAAYSMsCMCajHUbw65MM5eDHwZohu8lu+ioGLaucCv13BdZWqwTDkBFJg8FPln\nhUidoT6NQkBTKNt8dNsJL83QfL1O27QFv/RuFhnHtmLi6U+l1/pQWKFIwtcPziYT\nRflRAIeImE5Xt5qPdvqYPVmafGZpyjECprVJefUan8AyCsgTvT2FSJQ6uXvT5/0s\nluKfXu+5+6t3+2jXHb4PmEWnvBcJnDuWiPy/3IdLobAGMskQ5uFzT+VrPLWZgSzD\nOxzzCGyJMKd7HUiG5/Fvgur7r0Vmbxp/N+Y2uwKe7JPRLPpydGHUxr5bkileE4Zk\nFKnTca+WxcA9hpD89ypty6/pbD/z1hBO8eNVVX/dEg5DQQSW3XG59jGhGdtqCz/q\n/OsaAcA9V+KuvJ9mTPXwIx1yTf/jKns6kA6+MkXug0h/73lUvNDBx/zd6ytrzzkt\nVHPFyGSJBiqRZ/vR+hL6ONgJri9ZmsZZkLp86MqReUY9up9Z4pzeg86DNwk68pH3\nbP2UjRAJ/w4DUZXQe4V5wf/wSsVn+un8oMd7lBCye1LB44UGL0f5smzXKlTvVnAE\nSQ+5snsXfoSfmXPsJ5QuhASFQ4XNtOoGbO7tOw==\n-----END CERTIFICATE-----\n-----BEGIN CERTIFICATE-----\nMIIFhDCCA2ygAwIBAgIJAO/5hKj0ZyC6MA0GCSqGSIb3DQEBCwUAME8xCzAJBgNV\nBAYTAkdCMRAwDgYDVQQIDAdFbmdsYW5kMRIwEAYDVQQKDAlBbGljZSBMdGQxGjAY\nBgNVBAMMEUFsaWNlIEx0ZCBSb290IENBMB4XDTE2MDkyOTA2Mjg1NVoXDTM2MDky\nNDA2Mjg1NVowTzELMAkGA1UEBhMCR0IxEDAOBgNVBAgMB0VuZ2xhbmQxEjAQBgNV\nBAoMCUFsaWNlIEx0ZDEaMBgGA1UEAwwRQWxpY2UgTHRkIFJvb3QgQ0EwggIiMA0G\nCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQDNDBIPzzobipx1MmPQbAGP7uYLra16\n4/errL71pGMkJAoEr6WZIVAxqnC0TC4Xox9dRFZhFHQCXGIVKSw/pLEGFeWPGG+3\neSjgolT2jLnqCRXYe2gDuwVgNFBhU3Usg67klQlQZByVL6eJM4EHWXLPu8XgCCpV\nblSxosRTCuy2rhwwlAbpohtf9/EcqMVEedc/11pVSIVTGaPq1IlmJ/BBbs81eP6e\nqagW1lOYJTlTdpJytWqG2MSz6R1hXBcPR3CyhOP0x4qVjU/oZ9BJRh/P1i2kJYYN\nqHDUWIstE6TEYT8Jnf07U6cUGoZupGZkfVlIUitFIsVcdLRArf3PM4Cgj3q+OGok\n4FqX/NYoN7W949yjgQekBQHHgjUrqWyiRjgjn38KgTAzkAEdE+/NY4yxBO8OZbdq\nqkMI8GYv4vd7eBudooIF9Xm7hO8W7hf4oZwAMuBpUl/K/VLkFgiTV5aSOjaIT9O3\njKD5s4OGkUZS4BSemIzE5rTLkD2+ANf+xK9KAhUJQLCPKj/1FRaE7gLeP07BH4s8\nF/8O5VB7BtqgE/zaBJfiQ50gaYMIGPQ7jqj9YdgoOvQciEx12A2KUKeWcOKfzsIh\nrBLkN9lPUgJHIqLT+Z6FpFSBhqFFucAWojjxHCSyeXm8vnC5MBLpfWSteLydRi5O\nwAp7KUMQe0kD8wIDAQABo2MwYTAdBgNVHQ4EFgQU+32AgPjotflAfzr4A0yfDeJt\noAowHwYDVR0jBBgwFoAU+32AgPjotflAfzr4A0yfDeJtoAowDwYDVR0TAQH/BAUw\nAwEB/zAOBgNVHQ8BAf8EBAMCAYYwDQYJKoZIhvcNAQELBQADggIBAEcMSP4z5Msd\nBiQVtq3uL8FpTV9j7HnfRHcn0ThAIM3HdAoa84rd66L9X+l6ScvQXCfot1SMbjuZ\nQMD+cVxR6faem7A6gv5aN2UkOx3BsOZOW+M6XOK8T17SmE06DPxdfW2Wop/L6Mud\nbVkdlLW4NIGoSeRqrHwLyAzZEhFq5Fq4cMgE7KqAfN120z0ENvFi42goP4DNkB5l\njKOwm7phJ4LpTzSY6H2itEZTFTds1UetG1bhG/IGrWTXQ5ZSEkGXKYuqmZeBppuJ\nvZhix1QS3i+8TAbVkeyyAE8DGnhotgx6fgt2rYrRCjzAXoGV5biOiRS7ITog1rSO\npdS+dGDKsz/KNk0+poq2FzaXLZQUOd6OSTFJGwAWAC3IvbgazmicVN1wipsBQ5vz\naKDBx6q3IyyPZAovVXlygNpPI1w37e33c80GR3Mo4/xX+SoY+o2bzEqpPqAjVTVr\n302yuTP9/c24d6mBY7JfvxNmCRr4SQlS+imY1hgIZQWd52SAO3hvSxW1LCd1DSDs\n4Pn3cFSO+tLThENSw1ZU99cPv3y5+ut33ahz3EuSgzMbreKxCGQYdot5Bw/9Qn20\nY8AkWx4E2xTWXx+yONIOIRcVSbkDVFf2oj8toLall4mpe2qGYIGddsASEZ0kfgcF\nbYUlUGWH8K8tUoKl7x3l60m+N03RXHAs\n-----END CERTIFICATE-----"
}
```
